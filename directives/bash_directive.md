Automate the entire process using whiptail in Bash. Create comprehensive functions from the logic within each step. Ensure functions are encapsulated and reused appropriately to avoid redundancy. Use a central main function call method in a menu loop. Ensure the script is idempotent and handles edge cases robustly. Include user confirmations before executing critical actions. Use whiptail for user prompts and confirmations.
