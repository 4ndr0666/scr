#!/bin/bash

# List of duplicate packages
duplicates=(
    "aalib" "abseil-cpp" "acl" "adwaita-cursors" "adwaita-icon-theme"
    "alacritty" "alsa-card-profiles" "alsa-lib" "alsa-ucm-conf"
    "archcraft-config-qt" "archcraft-grub-theme" "archcraft-hooks"
    "archcraft-sddm-theme" "archcraft-vim" "at-spi2-core" "atkmm"
    "atril" "attr" "audit" "avahi" "bash" "bind" "binutils" "bluez-libs"
    "boost-libs" "brltty" "broadcom-wl" "brotli" "bubblewrap" "bzip2"
    "ca-certificates-mozilla" "cairo" "chrono-date" "cloud-init" "confuse"
    "coreutils" "cronie" "cryptsetup" "curl" "dav1d" "db5.3" "dbus"
    "device-mapper" "dhclient" "dhcpcd" "ding-libs" "djvulibre" "dnsmasq"
    "e2fsprogs" "efibootmgr" "efivar" "ell" "enchant" "ethtool"
    "exfatprogs" "exiv2" "expat" "fcft" "ffmpeg" "fftw" "filesystem"
    "findutils" "fluidsynth" "foot" "foot-terminfo" "fribidi" "fzf" "gc"
    "gcc" "gcc-libs" "gcr" "gcr-4" "gdk-pixbuf2" "geany-plugins" "gettext"
    "ghostscript" "giflib" "girara" "git" "glib-networking" "glib2"
    "glibc" "glibmm" "glslang" "gmp" "gnome-keyring" "gnu-netcat"
    "gnupg" "gnustep-base" "gnutls" "gobject-introspection"
    "gobject-introspection-runtime" "gpart" "gparted" "gpgme" "gptfdisk"
    "groff" "grub" "gsettings-desktop-schemas" "gspell" "gst-libav"
    "gst-plugin-pipewire" "gst-plugins-bad" "gst-plugins-bad-libs"
    "gst-plugins-base" "gst-plugins-base-libs" "gst-plugins-good"
    "gst-plugins-ugly" "gstreamer" "gtk-update-icon-cache" "gtk3"
    "gtkmm3" "gvfs" "gvfs-afc" "gvfs-goa" "gvfs-google" "gvfs-gphoto2"
    "gvfs-mtp" "gvfs-smb" "harfbuzz" "harfbuzz-icu" "hicolor-icon-theme"
    "highlight" "highway" "htop" "http-parser" "hwdata" "hyperv"
    "iana-etc" "icu" "ijs" "imagemagick" "imath" "imlib2" "intel-ucode"
    "iproute2" "iputils" "iso-codes" "iw" "iwd" "jansson" "jasper"
    "jbigkit" "jemalloc" "jfsutils" "jq" "karchive5" "kmod" "kvantum"
    "kwindowsystem5" "ldb" "less" "libaio" "libarchive" "libass"
    "libassuan" "libavif" "libblockdev" "libbpf" "libbsd" "libbytesize"
    "libcaca" "libcamera" "libcamera-ipa" "libcap" "libcap-ng" "libcbor"
    "libcdio-paranoia" "libcloudproviders" "libcolord" "libcupsfilters"
    "libdecor" "libdeflate" "libdovi" "libdrm" "libedit" "libelf"
    "libevdev" "libffi" "libfido2" "libfontenc" "libftdi" "libgirepository"
    "libgit2" "libgoa" "libgpg-error" "libgtop" "libheif" "libical"
    "libid3tag" "libidn" "libidn2" "libimagequant" "libimobiledevice"
    "libinih" "libinput" "libisl" "libjpeg-turbo" "libjxl" "libksba"
    "liblc3" "libldap" "libliftoff" "liblouis" "libmanette" "libmnl"
    "libmpcdec" "libmpeg2" "libnetfilter_conntrack" "libnewt" "libnfnetlink"
    "libnfs" "libnghttp2" "libnice" "libnm" "libnvme" "libogg" "libopenmpt"
    "libpaper" "libpciaccess" "libpipeline" "libpipewire" "libplacebo"
    "libplist" "libpng" "libproxy" "libpsl" "libpulse" "libpwquality"
    "librsvg" "libseccomp" "libsecret" "libsodium" "libspeechd" "libsrtp"
    "libsynctex" "libsysprof-capture" "libtiff" "libtool" "libunibreak"
    "libunistring" "libunwind" "libupnp" "liburing" "libusb" "libusbmuxd"
    "libva" "libverto" "libvpx" "libwacom" "libwbclient" "libwebp"
    "libwireplumber" "libwpe" "libx11" "libxcb" "libxcursor" "libxdmcp"
    "libxext" "libxfce4ui" "libxfce4util" "libxkbcommon" "libxkbcommon-x11"
    "libxkbfile" "libxml2" "libxmu" "libxslt" "libxvmc" "licenses" "light"
    "lilv" "linux" "linux-api-headers" "linux-firmware"
    "linux-firmware-bnx2x" "linux-firmware-liquidio" "linux-firmware-marvell"
    "linux-firmware-mellanox" "linux-firmware-nfp" "linux-firmware-qlogic"
    "linux-firmware-whence" "lirc" "llvm-libs" "lmdb" "luajit" "lvm2"
    "lz4" "lzip" "mako" "man-db" "man-pages" "md4c" "mdadm" "meld" "mesa"
    "mesa-utils" "mkinitcpio" "mobile-broadband-provider-info" "mpd"
    "mpfr" "mpg123" "mtools" "nano" "nbd" "ncdu" "ncmpcpp" "ndisc6" "neon"
    "network-manager-applet" "networkmanager" "networkmanager-dmenu-git"
    "networkmanager-openvpn" "nftables" "nilfs-utils" "nm-connection-editor"
    "nmap" "noto-fonts" "noto-fonts-cjk" "npth" "nspr" "nss" "numactl"
    "nvme-cli" "oath-toolkit" "open-iscsi" "openexr" "openjpeg2" "openmpi"
    "openpmix" "openssh" "openssl" "openvpn" "opus" "orc" "pacman"
    "pacman-contrib" "pam" "pangomm" "pavucontrol" "pciutils" "pcsclite"
    "perl" "perl-html-parser" "pinentry" "pipewire" "pipewire-alsa"
    "pipewire-audio" "pipewire-jack" "pipewire-pulse" "pixman" "pkgconf"
    "polkit" "poppler" "poppler-glib" "procps-ng" "psmisc" "pulsemixer"
    "pv" "python" "python-attrs" "python-babel" "python-cairo" "python-cffi"
    "python-charset-normalizer" "python-configobj" "python-cryptography"
    "python-docopt" "python-docutils" "python-evdev" "python-gobject"
    "python-idna" "python-imageio" "python-imagesize" "python-jinja"
    "python-jsonpatch" "python-jsonpointer" "python-jsonschema"
    "python-jsonschema-specifications" "python-mako" "python-markdown"
    "python-markupsafe" "python-netifaces" "python-numpy" "python-oauthlib"
    "python-packaging" "python-pillow" "python-ply" "python-psutil"
    "python-pycparser" "python-pygments" "python-pyrsistent"
    "python-pyserial" "python-pytz" "python-pywal" "python-referencing"
    "python-requests" "python-rpds-py" "python-six" "python-snowballstemmer"
    "python-sphinx" "python-sphinx-alabaster-theme"
    "python-sphinxcontrib-applehelp" "python-sphinxcontrib-devhelp"
    "python-sphinxcontrib-htmlhelp" "python-sphinxcontrib-jsmath"
    "python-sphinxcontrib-qthelp" "python-sphinxcontrib-serializinghtml"
    "python-typing_extensions" "python-urllib3" "python-yaml" "qpdf"
    "qt5-base" "qt5-declarative" "qt5-graphicaleffects" "qt5-multimedia"
    "qt5-quickcontrols" "qt5-quickcontrols2" "qt5-svg" "qt5-translations"
    "qt5-wayland" "qt5-x11extras" "ranger" "raptor" "rav1e" "readline"
    "refind" "reflector" "rofi-lbonn-wayland-git" "rpcbind" "rsync"
    "rtmpdump" "run-parts" "screen" "sdl2" "serd" "shaderc" "shadow"
    "smbclient" "sndio" "sof-firmware" "soundtouch" "spdlog" "spirv-tools"
    "sqlite" "strongswan" "sudo" "svt-av1" "svt-hevc" "sway" "swaybg"
    "systemd" "systemd-libs" "systemd-resolvconf" "systemd-sysvcompat"
    "taglib" "talloc" "tcl" "tcpdump" "tdb" "testdisk" "tevent"
    "thin-provisioning-tools" "thunar" "thunar-media-tags-plugin"
    "timeshift" "tmux" "tracker3" "trash-cli" "tslib" "tzdata" "udftools"
    "udisks2" "ueberzug" "unarchiver" "unrar" "unzip" "upower" "util-linux"
    "util-linux-libs" "vapoursynth" "vim" "vim-runtime" "volume_key"
    "vpnc" "vte-common" "vte3" "vulkan-headers" "vulkan-icd-loader"
    "vulkan-validation-layers" "wavpack" "waybar" "wayfire" "wayland"
    "wayland-protocols" "webkit2gtk" "webkit2gtk-4.1" "wf-config"
    "wildmidi" "wireless-regdb" "wireless_tools" "wireplumber" "wlogout"
    "wlroots" "woff2" "wofi" "wvdial" "x264" "xapp" "xarchiver" "xcb-proto"
    "xdg-utils" "xf86-video-fbdev" "xf86-video-intel" "xf86-video-vesa"
    "xfsprogs" "xkeyboard-config" "xmlsec" "xorg-fonts-encodings"
    "xorg-server" "xorg-server-common" "xorg-xauth" "xorg-xkbcomp"
    "xorg-xprop" "xorg-xwayland" "xorgproto" "xz" "yajl" "yay" "zathura"
    "zathura-pdf-poppler" "zbar" "zlib" "zsh" "zziplib" "aom" "cups"
    "libcups" "libmaxminddb" "pango" "pcre2"
)

# Remove duplicate packages
for pkg in "${duplicates[@]}"; do
    pacman -Rns --noconfirm "$pkg"
done

# Reinstall the packages
for pkg in "${duplicates[@]}"; do
    pacman -S --noconfirm "$pkg"
done
